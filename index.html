<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>18+ Video Access</title>

  <style>
    :root { --bg:#0f1115; --card:#151821; --muted:#9aa3b2; --accent:#3b82f6; --border:#232838; }
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:#e8e8e8;display:flex;min-height:100vh;align-items:center;justify-content:center;margin:0;padding:24px}
    .card{max-width:700px;width:100%;background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px;box-shadow:0 6px 30px rgba(0,0,0,.35)}
    h1{font-size:20px;margin:0 0 6px}
    .handle{font-size:12px;color:#9aa3b2;margin:0 0 12px}
    .handle a{color:#9aa3b2;text-decoration:none}
    .preview{aspect-ratio:16/9;background:#0b0d12;border:1px dashed var(--border);border-radius:12px;margin:12px 0 8px;display:flex;align-items:center;justify-content:center;color:#94a3b8;font-size:13px;overflow:hidden}
    .actions{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
    .btn{display:inline-block;padding:12px 18px;border-radius:12px;border:0;background:var(--accent);color:#fff;font-weight:700;cursor:pointer}
    .btn.offer{background:#ef4444}
    .timer{margin-top:10px;font-size:12px;color:#9aa3b2}
    .fine{font-size:12px;color:#9aa3b2;margin-top:12px}
    .badge{display:inline-block;font-size:11px;padding:4px 8px;border:1px solid var(--border);border-radius:999px;color:#9aa3b2;margin-bottom:10px}
    .banner-wrap{margin-top:14px;display:flex;justify-content:center}
    .banner-box{width:300px;height:250px}
    @media (max-width:360px){.banner-wrap{transform:scale(.9);transform-origin:top center}}
  </style>

  <!-- –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –í–ï–°–¨ –ø–æ—Å—Ç–µ—Ä –±–µ–∑ –∫—Ä–æ–ø—É. –î–ª—è –ø–æ–≤–Ω–æ–≥–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –∑–º—ñ–Ω–∏—Ç–∏ contain -> cover -->
  <style>.preview img{width:100%;height:100%;object-fit:contain;display:block}</style>
</head>
<body>
  <div class="card">
    <div class="badge">18+ content ‚Ä¢ adults only</div>
    <h1 id="title">Confirm 18+ to watch</h1>
    <div class="handle">channel: <a href="https://t.me/massimo_desu" target="_blank" rel="noopener">@massimo_desu</a></div>

    <div class="preview" id="preview">Loading preview‚Ä¶</div>
    <p class="fine" id="note">Enjoy your time watching, dear anime connoisseurs, stay with usü´¶</p>

    <div class="actions">
      <button class="btn" id="watchBtn">Watch FULL</button>
      <a class="btn offer" id="offerBtn" href="https://www.revenuecpmgate.com/a0vdxj40u7?key=caff2ec1b619c7bc75892bfffdea43a6" target="_blank" rel="noopener">Extra 18+</a>
    </div>

    <div class="timer" id="status"></div>

    <!-- Banner 300x250 -->
    <div class="banner-wrap">
      <div class="banner-box">
        <script type="text/javascript">
          atOptions = {
            'key' : 'c493e0c00ad06c76089c47fdbb8fc023',
            'format' : 'iframe',
            'height' : 250,
            'width' : 300,
            'params' : {}
          };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/c493e0c00ad06c76089c47fdbb8fc023/invoke.js"></script>
      </div>
    </div>
  </div>

  <!-- Adsterra Social Bar / Interstitial -->
  <script type='text/javascript' src='//pl27597423.revenuecpmgate.com/9b/14/8e/9b148ec6162884a5c0b44984f1f5a854.js'></script>

  <script>
    // –•–µ—à-–ø–∞—Ä–∞–º–µ—Ç—Ä–∏: #v=<VIDEO_URL>|img=<IMAGE_URL>|delay=7|t=...|btn=...|note=...|offer=<URL>|offerText=...
    function parseHash(){
      const raw=(location.hash||"").replace(/^#/,"");
      const out={}; if(!raw) return out;
      raw.split("|").forEach(p=>{const i=p.indexOf("="); if(i>0){out[p.slice(0,i).trim()]=decodeURIComponent(p.slice(i+1).trim());}});
      return out;
    }
    const p=parseHash();
    const V=p.v||""; const IMG=p.img||""; const D=Math.max(0,parseInt(p.delay||"7",10));

    if(p.t)   document.getElementById("title").textContent=p.t;
    if(p.btn) document.getElementById("watchBtn").textContent=p.btn;
    if(p.note)document.getElementById("note").textContent=p.note;
    if(p.offer){const ob=document.getElementById("offerBtn"); ob.href=p.offer; if(p.offerText) ob.textContent=p.offerText;}

    // ---- DEFAULT COVER ----
    const DEFAULT_IMG = "/three_girls_crop_1280x720.jpg";
    const imgToUse = IMG || DEFAULT_IMG;
    if (imgToUse){
      const im=new Image();
      im.onload=()=>{const b=document.getElementById("preview"); b.innerHTML=""; b.appendChild(im);};
      im.alt="Cover";
      im.src=imgToUse;
    }

    const statusEl=document.getElementById("status"), btn=document.getElementById("watchBtn");
    if(!V){btn.disabled=true; statusEl.textContent="Error: missing video URL (v= in the hash).";}

    // –∞–≤—Ç–æ-—Ä–µ–∑—é–º, —è–∫—â–æ webview —Å–∫–∏–Ω—É–≤ –Ω–∞ –∫–æ—Ä—ñ–Ω—å
    (function autoResume(){
      try{
        const raw=localStorage.getItem('vgate_next');
        if(raw){
          const obj=JSON.parse(raw);
          if(obj && obj.url && Date.now()-(obj.ts||0)<2*60*1000 && !location.hash.includes('v=')){
            window.location.replace(obj.url);
          }
        }
      }catch(e){}
    })();

    function robustGo(url){
      try{window.location.assign(url);}catch(e){}
      try{window.location.replace(url);}catch(e){}
      try{window.open(url,'_self');}catch(e){}
    }

    document.getElementById("watchBtn").addEventListener('click',()=>{
      try{localStorage.setItem('vgate_next', JSON.stringify({url:V, ts:Date.now()}));}catch(e){}
      const end=Date.now()+D*1000;
      (function tick(){
        const left=Math.max(0,Math.ceil((end-Date.now())/1000));
        statusEl.textContent="Preparing your video‚Ä¶ "+left+"s";
        if(Date.now()>=end){robustGo(V);} else setTimeout(tick,250);
      })();
      setTimeout(()=>robustGo(V),(D+0.6)*1000);
      setTimeout(()=>robustGo(V),(D+2.2)*1000);
      setTimeout(()=>robustGo(V),(D+4.2)*1000);
    });
  </script>
</body>
</html>
